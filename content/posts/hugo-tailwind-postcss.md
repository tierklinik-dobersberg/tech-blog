---
title: "Setting up a static site using Hugo, Tailwind and PostCSS"
date: 2021-10-28T20:59:47+02:00
draft: false
---

This post is going to describe how to setup a Hugo static site using Tailwind
and PostCSS. The setup described here is the same one use for this site and
has been documented while creating it.

## Introduction

### Jekyll 

At the time of writing the website of the Veterinary Clinic is created using [Jekyll](https://jekyllrb.com/).
Jekyll is a static website generator that takes a bunch of Markdown files, a theme and then renders
the website into a set of static files that can simply be served by any webserver without needing a more
complicated backend. 

Jekyll itself is created using Ruby and is quite popular because of the tight integration into Github. You can just
create a plain Jekyll site in a repository and Github will render your webpage.
This feature is called [Github Pages](https://pages.github.com/).

### Hugo

Hugo basically serves the same purpose as Jekyll. It takes a bunch of Markdown files and renders them to a static
webpage while applying a theme to your files. In contrast to Jekyll, Hugo is written in [Go](https://golang.org)
and uses the Go templating language (from the `text/template` and `html/template`).

### Why migrating to Hugo?

So one might ask why I even bother to write this post when I already have a static website running using Jekyll?
There are multiple aspects to this question while for me there are mostly 4 points that convinced me to setup a 
static website build using Hugo:

- **Self-Hosting**  
  Since I'm hosting the websites on our Nomad cluster I don't need the tight integration
  with Github Pages. I prefer self-hosting for clinic related content for privacy and
  data regulation reasons. It also allows me to keep our privacy policy short - I just
  don't do any user tracking.

- **Performance**  
  Hugo builds static websites a magnitude faster than Jekyll. I guess I could also improve
  the build speed of Jekyll but I don't want to invest lot's of time for that. I mainly care
  about the performance because I'm building the website automatically in our Nomad cluster
  whenever I push a new commit to the staging or master branch of the Github repository.

- **Golang and the Template Language**  
  I'm a huge fan and user of Golang - I'm programming nearly every day using it - and also
  like the templating language that's built into the standart lib of 
  [Go](https://pkg.go.dev/html/template). In contrast, I just don't like Ruby.
  I've worked on some Ruby based [Metasploit](https://www.metasploit.com/) modules some
  years ago and just could't make friends with it. 

- **Dependencies**  
  While the functionality of Jekyll can easily be extended using Ruby gems I hate fiddeling
  around with `bundler` and trying to get my ruby setup working. Hugo instead comes with
  batteries included and provides almost all features I needed to manually add to Jekyll.
  Also, Hugo supports a module system that uses the dependecy management of 
  Go - [Go Modules](https://go.dev/blog/using-go-modules) - under the hood and I'm already
  familiar with that (and really like the approach).

So, let's get started!

## Setting up the site

First of all we will need to install hugo on my machine. Since I'm running on [Archlinux](https://archlinux.org)
and use `yay` as an [AUR](https://aur.archlinux.org) helper that's very straight forward:

```bash
$ yay -S hugo-git
```

Note that I normally use the `-git` version locally as it contains the latest bugfixes and features.

For building the site in production I'm going to create a docker container that can get scheduled
on our Nomad cluster using a specific version of Hugo - but that's someting for another post. 

Now that we have hugo installed we can create a new site and initialize a git repository for version
control:

```bash
hugo new site tech-blog
$ cd tech-blog && git init .
```

I'm not going to describe all the files that are generated by Hugo as there's an excellent [documentation
available](https://gohugo.io/getting-started/directory-structure/) on the gohugo.io website.


## Tailwind and PostCSS

[Tailwind CSS](https://tailwindcss.com) is CSS framework for building websites that encourages constant use
of your design system. On their website, TailwindCSS is described as:

> A utility-first CSS framework packed with classes like flex, pt-4, text-center and rotate-90 that can be composed to build any design, directly in your markup.

While it might feel a bit cumbersome to work with at the beginning I really like the approach it takes and
using their utility classes starts to feel natural soon. Although Tailwind ships a beautiful default theme
and color palette it's easy to modify the theme, create new utilities or use plugins.

For integration into the build process of a website Tailwind relies on PostCSS, a CSS pre-processor to modify,
extend or otherwise manipulate your CSS during the build process. PostCSS itself is only the pre-processor while
the actual processing is done by PostCSS plugins - and there are lot's of them. Tailwind itself is also implemented
as a PostCSS plugin.

The nice thing here is that Hugo has native support to use PostCSS in it's [resource pipelines](https://gohugo.io/hugo-pipes/)
using `resources.PostCSS`. 

### A note on SASS

SASS - Syntactically Awesome Style Sheets - is a "professional grade" CSS extension that adds a lot of features to
normal CSS. It supports nested declarations, variables, mixins and more. During the build processes of your website
all SASS code is compiled to plain CSS.

While I'm used to write SASS for styling I decided to use plain PostCSS for this project and make use of some of the
awesome PostCSS plugins to resemble most of the features provided by SASS.
